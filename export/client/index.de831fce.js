import{S as s,i as a,s as r,b as e,e as o,c as t,f as l,g as c,h as n,k as i,j as p,l as u,I as f,T as h,o as m,p as d,m as v,U as E,t as g,a as I,d as _,V as w,r as T,v as x,W as y,X as $,Y as b}from"./client.9ee6942c.js";import{L as D}from"./ListErrors.fdc70ed2.js";function L(s){var a,r,T,x,y,$,b,L,U,F,N,P,S,V,j,O,k,A,B,H,J,M,R,W,X,Y,q,z,C,G,K=new D({props:{errors:s.errors}});return{c(){a=e(),r=o("div"),T=o("div"),x=o("div"),y=o("div"),$=o("h1"),b=t("Регистрация"),L=e(),U=o("p"),F=o("a"),N=t("Есть аккаунт?"),P=e(),K.$$.fragment.c(),S=e(),V=o("form"),j=o("fieldset"),O=o("input"),k=e(),A=o("fieldset"),B=o("input"),H=e(),J=o("fieldset"),M=o("input"),R=e(),W=o("fieldset"),X=o("input"),Y=e(),q=o("button"),z=t("Зарегистрироваться"),this.h()},l(s){a=l(s),r=c(s,"DIV",{class:!0},!1);var e=n(r);T=c(e,"DIV",{class:!0},!1);var o=n(T);x=c(o,"DIV",{class:!0},!1);var t=n(x);y=c(t,"DIV",{class:!0},!1);var u=n(y);$=c(u,"H1",{class:!0},!1);var f=n($);b=i(f,"Регистрация"),f.forEach(p),L=l(u),U=c(u,"P",{class:!0},!1);var h=n(U);F=c(h,"A",{href:!0},!1);var m=n(F);N=i(m,"Есть аккаунт?"),m.forEach(p),h.forEach(p),P=l(u),K.$$.fragment.l(u),S=l(u),V=c(u,"FORM",{},!1);var d=n(V);j=c(d,"FIELDSET",{class:!0},!1);var v=n(j);O=c(v,"INPUT",{class:!0,type:!0,placeholder:!0},!1),n(O).forEach(p),v.forEach(p),k=l(d),A=c(d,"FIELDSET",{class:!0},!1);var E=n(A);B=c(E,"INPUT",{class:!0,type:!0,placeholder:!0},!1),n(B).forEach(p),E.forEach(p),H=l(d),J=c(d,"FIELDSET",{class:!0},!1);var g=n(J);M=c(g,"INPUT",{class:!0,type:!0,placeholder:!0},!1),n(M).forEach(p),g.forEach(p),R=l(d),W=c(d,"FIELDSET",{class:!0},!1);var I=n(W);X=c(I,"INPUT",{class:!0,type:!0,placeholder:!0},!1),n(X).forEach(p),I.forEach(p),Y=l(d),q=c(d,"BUTTON",{class:!0},!1);var _=n(q);z=i(_,"Зарегистрироваться"),_.forEach(p),d.forEach(p),u.forEach(p),t.forEach(p),o.forEach(p),e.forEach(p),this.h()},h(){document.title="Регистрация Ignat Japan",u($,"class","text-xs-center h1-norm"),u(F,"href","/login"),u(U,"class","text-xs-center"),u(O,"class","form-control form-control-lg"),u(O,"type","text"),u(O,"placeholder","Логин"),u(j,"class","form-group"),u(B,"class","form-control form-control-lg"),u(B,"type","email"),u(B,"placeholder","Почта"),u(A,"class","form-group"),u(M,"class","form-control form-control-lg"),u(M,"type","password"),u(M,"placeholder","Пароль"),u(J,"class","form-group"),u(X,"class","form-control form-control-lg"),u(X,"type","text"),u(X,"placeholder","invite-код"),u(W,"class","form-group"),u(q,"class","btn btn-lg btn-primary pull-xs-right"),u(y,"class","col-md-6 offset-md-3 col-xs-12"),u(x,"class","row"),u(T,"class","container page"),u(r,"class","auth-page"),G=[f(O,"input",s.input0_input_handler),f(B,"input",s.input1_input_handler),f(M,"input",s.input2_input_handler),f(V,"submit",h(s.submit))]},m(e,o){m(e,a,o),m(e,r,o),d(r,T),d(T,x),d(x,y),d(y,$),d($,b),d(y,L),d(y,U),d(U,F),d(F,N),d(y,P),v(K,y,null),d(y,S),d(y,V),d(V,j),d(j,O),E(O,s.username),d(V,k),d(V,A),d(A,B),E(B,s.email),d(V,H),d(V,J),d(J,M),E(M,s.password),d(V,R),d(V,W),d(W,X),d(V,Y),d(V,q),d(q,z),C=!0},p(s,a){var r={};s.errors&&(r.errors=a.errors),K.$set(r),s.username&&O.value!==a.username&&E(O,a.username),s.email&&B.value!==a.email&&E(B,a.email),s.password&&M.value!==a.password&&E(M,a.password)},i(s){C||(g(K.$$.fragment,s),C=!0)},o(s){I(K.$$.fragment,s),C=!1},d(s){s&&(p(a),p(r)),_(K),w(G)}}}function U(s,a,r){let e;const{session:o}=T();x(s,o,s=>{r("$session",e=s)});let t="",l="",c="",n=null;return{session:o,username:t,email:l,password:c,errors:n,submit:async function(s){const a=await y("auth/register",{username:t,email:l,password:c});r("errors",n=a.errors),a.user&&($(o,e.user=a.user,e),b("/"))},input0_input_handler:function(){t=this.value,r("username",t)},input1_input_handler:function(){l=this.value,r("email",l)},input2_input_handler:function(){c=this.value,r("password",c)}}}export default class extends s{constructor(s){super(),a(this,s,U,L,r,[])}}
