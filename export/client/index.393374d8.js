import{S as s,i as a,s as r,b as e,e as o,c as t,f as l,g as c,h as n,k as i,j as p,l as u,C as f,Q as h,o as m,p as d,m as v,R as E,t as g,a as I,d as _,T as w,r as T,v as x,U as y,V as $,W as b}from"./client.0b5a1f8a.js";import{L as D}from"./ListErrors.9ee4e1ce.js";function L(s){var a,r,T,x,y,$,b,L,U,F,N,P,S,V,j,O,R,k,A,B,C,H,J,M,Q,W,q,z,G,K,X=new D({props:{errors:s.errors}});return{c(){a=e(),r=o("div"),T=o("div"),x=o("div"),y=o("div"),$=o("h1"),b=t("Регистрация"),L=e(),U=o("p"),F=o("a"),N=t("Есть аккаунт?"),P=e(),X.$$.fragment.c(),S=e(),V=o("form"),j=o("fieldset"),O=o("input"),R=e(),k=o("fieldset"),A=o("input"),B=e(),C=o("fieldset"),H=o("input"),J=e(),M=o("fieldset"),Q=o("input"),W=e(),q=o("button"),z=t("Зарегистрироваться"),this.h()},l(s){a=l(s),r=c(s,"DIV",{class:!0},!1);var e=n(r);T=c(e,"DIV",{class:!0},!1);var o=n(T);x=c(o,"DIV",{class:!0},!1);var t=n(x);y=c(t,"DIV",{class:!0},!1);var u=n(y);$=c(u,"H1",{class:!0},!1);var f=n($);b=i(f,"Регистрация"),f.forEach(p),L=l(u),U=c(u,"P",{class:!0},!1);var h=n(U);F=c(h,"A",{href:!0},!1);var m=n(F);N=i(m,"Есть аккаунт?"),m.forEach(p),h.forEach(p),P=l(u),X.$$.fragment.l(u),S=l(u),V=c(u,"FORM",{},!1);var d=n(V);j=c(d,"FIELDSET",{class:!0},!1);var v=n(j);O=c(v,"INPUT",{class:!0,type:!0,placeholder:!0},!1),n(O).forEach(p),v.forEach(p),R=l(d),k=c(d,"FIELDSET",{class:!0},!1);var E=n(k);A=c(E,"INPUT",{class:!0,type:!0,placeholder:!0},!1),n(A).forEach(p),E.forEach(p),B=l(d),C=c(d,"FIELDSET",{class:!0},!1);var g=n(C);H=c(g,"INPUT",{class:!0,type:!0,placeholder:!0},!1),n(H).forEach(p),g.forEach(p),J=l(d),M=c(d,"FIELDSET",{class:!0},!1);var I=n(M);Q=c(I,"INPUT",{class:!0,type:!0,placeholder:!0},!1),n(Q).forEach(p),I.forEach(p),W=l(d),q=c(d,"BUTTON",{class:!0},!1);var _=n(q);z=i(_,"Зарегистрироваться"),_.forEach(p),d.forEach(p),u.forEach(p),t.forEach(p),o.forEach(p),e.forEach(p),this.h()},h(){document.title="Регистрация Ignat Japan",u($,"class","text-xs-center h1-norm"),u(F,"href","/login"),u(U,"class","text-xs-center"),u(O,"class","form-control form-control-lg"),u(O,"type","text"),u(O,"placeholder","Логин"),u(j,"class","form-group"),u(A,"class","form-control form-control-lg"),u(A,"type","email"),u(A,"placeholder","Почта"),u(k,"class","form-group"),u(H,"class","form-control form-control-lg"),u(H,"type","password"),u(H,"placeholder","Пароль"),u(C,"class","form-group"),u(Q,"class","form-control form-control-lg"),u(Q,"type","text"),u(Q,"placeholder","invite-код"),u(M,"class","form-group"),u(q,"class","btn btn-lg btn-primary pull-xs-right"),u(y,"class","col-md-6 offset-md-3 col-xs-12"),u(x,"class","row"),u(T,"class","container page"),u(r,"class","auth-page"),K=[f(O,"input",s.input0_input_handler),f(A,"input",s.input1_input_handler),f(H,"input",s.input2_input_handler),f(V,"submit",h(s.submit))]},m(e,o){m(e,a,o),m(e,r,o),d(r,T),d(T,x),d(x,y),d(y,$),d($,b),d(y,L),d(y,U),d(U,F),d(F,N),d(y,P),v(X,y,null),d(y,S),d(y,V),d(V,j),d(j,O),E(O,s.username),d(V,R),d(V,k),d(k,A),E(A,s.email),d(V,B),d(V,C),d(C,H),E(H,s.password),d(V,J),d(V,M),d(M,Q),d(V,W),d(V,q),d(q,z),G=!0},p(s,a){var r={};s.errors&&(r.errors=a.errors),X.$set(r),s.username&&O.value!==a.username&&E(O,a.username),s.email&&A.value!==a.email&&E(A,a.email),s.password&&H.value!==a.password&&E(H,a.password)},i(s){G||(g(X.$$.fragment,s),G=!0)},o(s){I(X.$$.fragment,s),G=!1},d(s){s&&(p(a),p(r)),_(X),w(K)}}}function U(s,a,r){let e;const{session:o}=T();x(s,o,s=>{r("$session",e=s)});let t="",l="",c="",n=null;return{session:o,username:t,email:l,password:c,errors:n,submit:async function(s){const a=await y("auth/register",{username:t,email:l,password:c});r("errors",n=a.errors),a.user&&($(o,e.user=a.user,e),b("/"))},input0_input_handler:function(){t=this.value,r("username",t)},input1_input_handler:function(){l=this.value,r("email",l)},input2_input_handler:function(){c=this.value,r("password",c)}}}export default class extends s{constructor(s){super(),a(this,s,U,L,r,[])}}
